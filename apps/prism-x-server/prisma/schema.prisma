datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Event {
  createdAt        DateTime          @default(now())
  description      String?
  endTime          DateTime?
  id               String            @id @default(cuid())
  location         String?
  startTime        DateTime?
  title            String?
  updatedAt        DateTime          @updatedAt
  user             User?             @relation(fields: [userId], references: [id])
  userId           String?
  userInteractions UserInteraction[]
}

model UserProfile {
  bio              String?
  createdAt        DateTime          @default(now())
  id               String            @id @default(cuid())
  profilePicture   Json?
  updatedAt        DateTime          @updatedAt
  user             User?             @relation(fields: [userId], references: [id])
  userId           String?
  userInteractions UserInteraction[]
}

model UserInteraction {
  createdAt       DateTime                            @default(now())
  event           Event?                              @relation(fields: [eventId], references: [id])
  eventId         String?
  id              String                              @id @default(cuid())
  interactionType EnumUserInteractionInteractionType?
  updatedAt       DateTime                            @updatedAt
  userProfile     UserProfile?                        @relation(fields: [userProfileId], references: [id])
  userProfileId   String?
}

model User {
  createdAt    DateTime      @default(now())
  email        String?       @unique
  events       Event[]
  firstName    String?
  id           String        @id @default(cuid())
  lastName     String?
  password     String
  roles        Json
  updatedAt    DateTime      @updatedAt
  username     String        @unique
  userProfiles UserProfile[]
}

enum EnumUserInteractionInteractionType {
  Option1
}
